<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chat - Proyectos Interdisciplinarios</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: #1a1a1a;
      color: #e0e0e0;
      height: 100vh;
      display: flex;
      overflow: hidden;
    }

    /* SIDEBAR NAVIGATION (izquierda) */
    .nav-sidebar {
      width: 72px;
      background: #0a0a0a;
      border-right: 1px solid #2a2a2a;
      display: flex;
      flex-direction: column;
      padding: 16px 0;
      align-items: center;
      gap: 8px;
      flex-shrink: 0;
    }

    .nav-sidebar a.sidebar-item {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.2s;
      gap: 2px;
      text-decoration: none;
      color: inherit;
    }

    .nav-sidebar a.sidebar-item:hover { background: #2a2a2a; }
    .nav-sidebar a.sidebar-item.active { background: #7c3aed; }
    .sidebar-item-icon { font-size: 20px; line-height: 1; }
    .sidebar-item-label { font-size: 10px; color: #888; font-weight: 500; display: none; }
    .nav-sidebar a.sidebar-item.active .sidebar-item-label { color: #e0e0e0; }

    /* CONVERSATIONS SIDEBAR */
    .conversations-sidebar {
      width: 320px;
      background: #0a0a0a;
      display: flex;
      flex-direction: column;
      border-right: 1px solid #2a2a2a;
      flex-shrink: 0;
    }

    .sidebar-header {
      padding: 16px 20px;
      border-bottom: 1px solid #2a2a2a;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .sidebar-header h5 {
      font-size: 14px;
      font-weight: 600;
      color: #888;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .new-chat-btn {
      background: #7c3aed;
      border: none;
      color: white;
      width: 32px;
      height: 32px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 18px;
      transition: background 0.2s;
    }

    .new-chat-btn:hover {
      background: #6d28d9;
    }

    .notification-banner {
      background: #1f1f1f;
      padding: 12px 20px;
      border-bottom: 1px solid #2a2a2a;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 13px;
    }

    .notification-banner .close-btn {
      background: none;
      border: none;
      color: #888;
      cursor: pointer;
      font-size: 18px;
      padding: 0;
      width: 20px;
      height: 20px;
    }

    .notification-banner .view-btn {
      background: #2a2a2a;
      border: 1px solid #3a3a3a;
      color: #e0e0e0;
      padding: 4px 12px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 12px;
      margin-top: 8px;
    }

    .conversations {
      flex: 1;
      overflow-y: auto;
      padding: 8px 0;
    }

    .conversation-item {
      display: flex;
      align-items: center;
      padding: 12px 20px;
      cursor: pointer;
      transition: background 0.2s;
      gap: 12px;
    }

    .conversation-item:hover {
      background: #1a1a1a;
    }

    .conversation-item.active {
      background: #2a2a2a;
    }

    .avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, #4a4a4a, #5a5a5a);
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 14px;
    }

    .conversation-info {
      flex: 1;
      min-width: 0;
    }

    .conversation-info h6 {
      font-size: 14px;
      font-weight: 500;
      margin-bottom: 2px;
      color: #e0e0e0;
    }

    .conversation-info small {
      font-size: 12px;
      color: #888;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      display: block;
    }

    .conversation-time {
      font-size: 11px;
      color: #666;
      flex-shrink: 0;
    }

    /* CHAT WINDOW */
    .chat-window {
      flex: 1;
      display: flex;
      flex-direction: column;
      background: #121212;
    }

    .chat-header {
      padding: 16px 24px;
      border-bottom: 1px solid #2a2a2a;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .chat-header-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .chat-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, #4a4a4a, #5a5a5a);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 14px;
    }

    .chat-header-info h5 {
      font-size: 16px;
      font-weight: 500;
      margin-bottom: 2px;
    }

    .chat-header-info small {
      font-size: 12px;
      color: #888;
    }

    .header-actions {
      display: flex;
      gap: 8px;
    }

    .header-actions button {
      background: none;
      border: none;
      color: #888;
      cursor: pointer;
      padding: 8px;
      border-radius: 4px;
      transition: background 0.2s;
      font-size: 18px;
    }

    .header-actions button:hover {
      background: #2a2a2a;
    }

    .messages-container {
      flex: 1;
      overflow-y: auto;
      padding: 24px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .message {
      display: flex;
      gap: 12px;
      max-width: 70%;
      animation: messageSlide 0.3s ease;
    }

    @keyframes messageSlide {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .message.sent {
      align-self: flex-end;
      flex-direction: row-reverse;
    }

    .message-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: linear-gradient(135deg, #4a4a4a, #5a5a5a);
      flex-shrink: 0;
    }

    .message-content {
      background: #2a2a2a;
      padding: 12px 16px;
      border-radius: 16px;
      font-size: 14px;
      line-height: 1.5;
    }

    .message.sent .message-content {
      background: #6366f1;
    }

    .message-time {
      font-size: 11px;
      color: #666;
      margin-top: 4px;
    }

    .quick-replies {
      display: flex;
      gap: 8px;
      align-self: flex-end;
      margin-top: 8px;
    }

    .quick-reply {
      background: #c4b5fd;
      color: #1a1a1a;
      padding: 8px 16px;
      border-radius: 20px;
      border: none;
      cursor: pointer;
      font-size: 13px;
      font-weight: 500;
      transition: background 0.2s;
    }

    .quick-reply:hover {
      background: #b4a5ed;
    }

    /* INPUT AREA */
    .input-area {
      padding: 16px 24px;
      border-top: 1px solid #2a2a2a;
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .input-actions {
      display: flex;
      gap: 8px;
    }

    .input-actions button {
      background: none;
      border: none;
      color: #888;
      cursor: pointer;
      padding: 8px;
      border-radius: 4px;
      transition: background 0.2s;
      font-size: 18px;
    }

    .input-actions button:hover {
      background: #2a2a2a;
    }

    .message-input {
      flex: 1;
      background: #1a1a1a;
      border: 1px solid #2a2a2a;
      border-radius: 8px;
      padding: 10px 16px;
      color: #e0e0e0;
      font-size: 14px;
      outline: none;
    }

    .message-input:focus {
      border-color: #7c3aed;
    }

    .send-btn {
      background: #7c3aed;
      border: none;
      color: white;
      cursor: pointer;
      padding: 10px 16px;
      border-radius: 8px;
      transition: background 0.2s;
      font-size: 18px;
    }

    .send-btn:hover {
      background: #6d28d9;
    }

    .send-btn:disabled {
      background: #2a2a2a;
      cursor: not-allowed;
    }

    /* Empty State */
    .empty-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100%;
      text-align: center;
      padding: 40px;
    }

    .empty-icon {
      font-size: 64px;
      margin-bottom: 16px;
      opacity: 0.5;
    }

    .empty-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .empty-description {
      font-size: 14px;
      color: #888;
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: #3a3a3a;
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #4a4a4a;
    }

    /* RESPONSIVE */
    @media (max-width: 1024px) {
      .nav-sidebar {
        position: fixed;
        left: -72px;
        transition: left 0.3s;
        z-index: 101;
        height: 100vh;
      }

      .nav-sidebar.open {
        left: 0;
      }

      .conversations-sidebar {
        width: 280px;
      }
    }

    @media (max-width: 768px) {
      .conversations-sidebar {
        position: fixed;
        left: 0;
        transition: transform 0.3s;
        z-index: 100;
        height: 100vh;
      }

      .conversations-sidebar.hidden {
        transform: translateX(-100%);
      }

      .nav-sidebar a.sidebar-item .sidebar-item-label {
        display: block;
        font-size: 12px;
        margin-top: 4px;
      }
    }
  </style>
</head>
<body>
  <!-- NAVIGATION SIDEBAR -->
  <aside class="nav-sidebar" id="navSidebar">
    <a href="home.html" class="sidebar-item">
      <div class="sidebar-item-icon">
        <img src="https://uxwing.com/wp-content/themes/uxwing/download/web-app-development/home-page-white-icon.png" width="20" alt="Inicio">
      </div>
      <div class="sidebar-item-label">Inicio</div>
    </a>


    <a href="misProyectos.html" class="sidebar-item">
      <div class="sidebar-item-icon">
        <img src="https://cdn2.iconfinder.com/data/icons/leto-most-searched-mix-3/64/__menu_more-28-512.png" width="30" alt="Mis Proyectos">
      </div>
      <div class="sidebar-item-label">MisProyectos</div>
    </a>

    <a href="chat.html" class="sidebar-item active">
      <div class="sidebar-item-icon">
        <img src="https://www.nicepng.com/png/full/128-1284530_chat-icon-png-white-chat-icon-white-png.png" width="20" alt="Mensajes">
      </div>
      <div class="sidebar-item-label">Mensajes</div>
    </a>

    
  </aside>

  <!-- CONVERSATIONS SIDEBAR -->
  <div class="conversations-sidebar" id="conversationsSidebar">
    <div class="sidebar-header">
      <h5>Mensajes</h5>
      <button class="new-chat-btn" onclick="startNewChat()">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/White_pencil.png/1200px-White_pencil.png" width="20">
      </button>
    </div>
    
    <div class="conversations">
      <div class="conversation-item active" onclick="loadChat(1)">
        <div class="avatar">MG</div>
        <div class="conversation-info">
          <h6>María González</h6>
          <small>¿Cuándo podemos reunirnos?</small>
        </div>
        <div class="conversation-time">10 min</div>
      </div>
      
      <div class="conversation-item" onclick="loadChat(2)">
        <div class="avatar">CR</div>
        <div class="conversation-info">
          <h6>Carlos Ruiz</h6>
          <small>Me interesa tu proyecto de...</small>
        </div>
        <div class="conversation-time">1h</div>
      </div>
      
      <div class="conversation-item" onclick="loadChat(3)">
        <div class="avatar">AL</div>
        <div class="conversation-info">
          <h6>Ana López</h6>
          <small>Gracias por aplicar!</small>
        </div>
        <div class="conversation-time">2h</div>
      </div>
      
      <div class="conversation-item" onclick="loadChat(4)">
        <div class="avatar">RD</div>
        <div class="conversation-info">
          <h6>Roberto Díaz</h6>
          <small>El deadline es el viernes</small>
        </div>
        <div class="conversation-time">1d</div>
      </div>
      
      <div class="conversation-item" onclick="loadChat(5)">
        <div class="avatar">JP</div>
        <div class="conversation-info">
          <h6>Juan Pérez</h6>
          <small>Perfecto, nos vemos mañana</small>
        </div>
        <div class="conversation-time">2d</div>
      </div>
      
      <div class="conversation-item" onclick="loadChat(6)">
        <div class="avatar">LM</div>
        <div class="conversation-info">
          <h6>Laura Martínez</h6>
          <small>Te envié los archivos</small>
        </div>
        <div class="conversation-time">3d</div>
      </div>
    </div>
  </div>

  <!-- CHAT WINDOW -->
  <div class="chat-window">
    <div class="chat-header">
      <div class="chat-header-left">
        <div class="chat-avatar">MG</div>
        <div class="chat-header-info">
          <h5>María González</h5>
          <small>En línea</small>
        </div>
      </div>
      <div class="header-actions">
        <button onclick="startVideoCall()">
          <img src="https://cdn-icons-png.flaticon.com/512/9824/9824087.png" width="24" alt="Videollamada">
        </button>
        <button onclick="showChatInfo()">⋮</button>
      </div>
    </div>
    
    <div class="messages-container" id="messagesContainer">
      

      <div class="quick-replies">
        <button class="quick-reply" onclick="sendQuickReply('Perfecto, el miércoles')">Perfecto, el miércoles</button>
        <button class="quick-reply" onclick="sendQuickReply('¿A qué hora?')">¿A qué hora?</button>
        <button class="quick-reply" onclick="sendQuickReply('Prefiero otro día')">Prefiero otro día</button>
      </div>
    </div>
    
    <div class="input-area">
      <div class="input-actions">
        <button onclick="attachFile()">
          <img src="https://static.vecteezy.com/system/resources/previews/011/912/003/non_2x/plus-sign-icon-free-png.png" width="20" alt="Adjuntar">
        </button>
        <!--
        <button onclick="insertEmoji()"></button>
        -->
        
      </div>
      <input type="text" class="message-input" id="messageInput" placeholder="Escribe un mensaje..." onkeypress="handleKeyPress(event)">
      <button class="send-btn" id="sendBtn" onclick="sendMessage()">
        ➤
      </button>
    </div>
  </div>

  <script>
    function loadChat(chatId) {
      console.log('Cargando chat', chatId);
      // Marcar conversación como activa
      document.querySelectorAll('.conversation-item').forEach(item => {
        item.classList.remove('active');
      });
      event.currentTarget.classList.add('active');
      
      // En móvil, ocultar sidebar de conversaciones
      if (window.innerWidth <= 768) {
        document.getElementById('conversationsSidebar').classList.add('hidden');
      }
    }

    function startNewChat() {
      alert('Iniciar nueva conversación\n\nAquí se abriría un modal para seleccionar un contacto o buscar usuarios.');
    }

    function startVideoCall() {
      alert('Iniciando videollamada...\n\nEsta función estaría integrada con una solución como WebRTC o Zoom API.');
    }

    function showChatInfo() {
      alert('Información del chat:\n\n- Ver perfil\n- Archivos compartidos\n- Silenciar conversación\n- Reportar usuario');
    }

    function sendMessage() {
      const input = document.getElementById('messageInput');
      const message = input.value.trim();
      
      if (message) {
        // Agregar mensaje al contenedor
        const messagesContainer = document.getElementById('messagesContainer');
        const messageHTML = `
          <div class="message sent">
            <div class="message-avatar"></div>
            <div>
              <div class="message-content">${message}</div>
              <div class="message-time">Ahora</div>
            </div>
          </div>
        `;
        
        // Remover quick replies si existen
        const quickReplies = messagesContainer.querySelector('.quick-replies');
        if (quickReplies) quickReplies.remove();
        
        messagesContainer.insertAdjacentHTML('beforeend', messageHTML);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
        
        input.value = '';
      }
    }

    function sendQuickReply(text) {
      const input = document.getElementById('messageInput');
      input.value = text;
      sendMessage();
    }

    function handleKeyPress(event) {
      if (event.key === 'Enter') {
        sendMessage();
      }
    }

    function attachFile() {
      alert('Adjuntar archivo\n\nAquí se abriría un selector de archivos para adjuntar documentos, imágenes, etc.');
    }

    function insertEmoji() {
      alert('Selector de emojis\n\nAquí se mostraría un picker de emojis.');
    }

    // Enable/disable send button based on input
    document.getElementById('messageInput').addEventListener('input', function() {
      const sendBtn = document.getElementById('sendBtn');
      sendBtn.disabled = this.value.trim() === '';
    });

    // Mobile: toggle sidebars
    function toggleNavSidebar() {
      document.getElementById('navSidebar').classList.toggle('open');
    }

    function toggleConversationsSidebar() {
      document.getElementById('conversationsSidebar').classList.toggle('hidden');
    }
  </script>
</body>
</html>